[
  {
    "errata_id": "7752",
    "doc-id": "RFC8147",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "13",
    "orig_text": "<?xml version=\"1.0\"?>\r\n<xs:schema\r\n    targetNamespace=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\r\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n    xmlns:pi=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\r\n    xmlns:xml=\"http://www.w3.org/XML/1998/namespace\"\r\n    elementFormDefault=\"qualified\"\r\n    attributeFormDefault=\"unqualified\">\r\n    \r\n    <xs:import namespace=\"http://www.w3.org/XML/1998/namespace\"/>\r\n    \r\n    <xs:element name=\"EmergencyCallData.Control\"\r\n        type=\"pi:controlType\"/>\r\n    \r\n    <xs:complexType name=\"controlType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:choice>\r\n                    <xs:element name=\"capabilities\"\r\n                        type=\"pi:capabilitiesType\"/>\r\n                    <xs:element name=\"request\" type=\"pi:requestType\"/>\r\n                    <xs:element name=\"ack\" type=\"pi:ackType\"/>\r\n                    <xs:any namespace=\"##any\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:choice>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n    \r\n    <xs:complexType name=\"ackType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:sequence minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n                    <xs:element name=\"actionResult\" minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\">\r\n                        <xs:complexType>\r\n                            <xs:attribute name=\"action\"\r\n                                type=\"xs:token\"\r\n                                use=\"required\"/>\r\n                            <xs:attribute name=\"success\"\r\n                                type=\"xs:boolean\"\r\n                                use=\"required\"/>\r\n                            <xs:attribute name=\"reason\"\r\n                                type=\"xs:token\">\r\n                                <xs:annotation>\r\n                                    <xs:documentation>\r\n                                        conditionally mandatory\r\n                                        when @success=\"false\"\r\n                                        to indicate reason code\r\n                                        for a failure\r\n                                    </xs:documentation>\r\n                                </xs:annotation>\r\n                            </xs:attribute>\r\n                            <xs:attribute name=\"details\"\r\n                                type=\"xs:string\"/>\r\n                            <xs:anyAttribute\r\n                                processContents=\"skip\"/>\r\n                        </xs:complexType>\r\n                    </xs:element>\r\n                    <xs:any namespace=\"##any\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:sequence>\r\n                <xs:attribute name=\"ref\"\r\n                    type=\"xs:anyURI\"\r\n                    use=\"required\"/>\r\n                \r\n                <xs:attribute name=\"received\"\r\n                    type=\"xs:boolean\"/>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n    \r\n    <xs:complexType name=\"capabilitiesType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:sequence minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n                    <xs:element name=\"request\"\r\n                        type=\"pi:requestType\"\r\n                        minOccurs=\"1\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                    <xs:any namespace=\"##any\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:sequence>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n    \r\n    <xs:complexType name=\"requestType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:choice minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n                    <xs:element name=\"text\" minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\">\r\n                        <xs:complexType>\r\n                            <xs:simpleContent>\r\n                                <xs:extension base=\"xs:string\">\r\n                                    <xs:anyAttribute\r\n                                        namespace=\"##any\"\r\n                                        processContents=\"skip\"/>\r\n                                </xs:extension>\r\n                            </xs:simpleContent>\r\n                        </xs:complexType>\r\n                    </xs:element>\r\n                    <xs:any namespace=\"##any\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:choice>\r\n                <xs:attribute name=\"action\" type=\"xs:token\"\r\n                    use=\"required\"/>\r\n                \r\n                <xs:attribute name=\"int-id\" type=\"xs:unsignedInt\"/>\r\n                <xs:attribute name=\"persistence\"\r\n                    type=\"xs:duration\"/>\r\n                <xs:attribute name=\"datatype\" type=\"xs:token\"/>\r\n                <xs:attribute name=\"supported-values\"\r\n                    type=\"xs:string\"/>\r\n                <xs:attribute name=\"element-id\" type=\"xs:token\"/>\r\n                <xs:attribute name=\"requested-state\"\r\n                    type=\"xs:token\"/>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n</xs:schema>",
    "correct_text": "<?xml version=\"1.0\"?>\r\n<xs:schema\r\n    targetNamespace=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\r\n    xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"\r\n    xmlns:pi=\"urn:ietf:params:xml:ns:EmergencyCallData:control\"\r\n    xmlns:xml=\"http://www.w3.org/XML/1998/namespace\"\r\n    elementFormDefault=\"qualified\"\r\n    attributeFormDefault=\"unqualified\">\r\n    \r\n    <xs:import namespace=\"http://www.w3.org/XML/1998/namespace\"/>\r\n    \r\n    <xs:element name=\"EmergencyCallData.Control\"\r\n        type=\"pi:controlType\"/>\r\n    \r\n    <xs:complexType name=\"controlType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:choice>\r\n                    <xs:element name=\"capabilities\"\r\n                        type=\"pi:capabilitiesType\"/>\r\n                    <xs:element name=\"request\" type=\"pi:requestType\"/>\r\n                    <xs:element name=\"ack\" type=\"pi:ackType\"/>\r\n                    <xs:any namespace=\"##other\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:choice>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n    \r\n    <xs:complexType name=\"ackType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:sequence minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n                    <xs:element name=\"actionResult\" minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\">\r\n                        <xs:complexType>\r\n                            <xs:attribute name=\"action\"\r\n                                type=\"xs:token\"\r\n                                use=\"required\"/>\r\n                            <xs:attribute name=\"success\"\r\n                                type=\"xs:boolean\"\r\n                                use=\"required\"/>\r\n                            <xs:attribute name=\"reason\"\r\n                                type=\"xs:token\">\r\n                                <xs:annotation>\r\n                                    <xs:documentation>\r\n                                        conditionally mandatory\r\n                                        when @success=\"false\"\r\n                                        to indicate reason code\r\n                                        for a failure\r\n                                    </xs:documentation>\r\n                                </xs:annotation>\r\n                            </xs:attribute>\r\n                            <xs:attribute name=\"details\"\r\n                                type=\"xs:string\"/>\r\n                            <xs:anyAttribute\r\n                                processContents=\"skip\"/>\r\n                        </xs:complexType>\r\n                    </xs:element>\r\n                    <xs:any namespace=\"##other\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:sequence>\r\n                <xs:attribute name=\"ref\"\r\n                    type=\"xs:anyURI\"\r\n                    use=\"required\"/>\r\n                \r\n                <xs:attribute name=\"received\"\r\n                    type=\"xs:boolean\"/>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n    \r\n    <xs:complexType name=\"capabilitiesType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:sequence minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n                    <xs:element name=\"request\"\r\n                        type=\"pi:requestType\"\r\n                        minOccurs=\"1\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                    <xs:any namespace=\"##other\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:sequence>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n    \r\n    <xs:complexType name=\"requestType\">\r\n        <xs:complexContent>\r\n            <xs:restriction base=\"xs:anyType\">\r\n                <xs:choice minOccurs=\"1\" maxOccurs=\"unbounded\">\r\n                    <xs:element name=\"text\" minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\">\r\n                        <xs:complexType>\r\n                            <xs:simpleContent>\r\n                                <xs:extension base=\"xs:string\">\r\n                                    <xs:anyAttribute\r\n                                        namespace=\"##any\"\r\n                                        processContents=\"skip\"/>\r\n                                </xs:extension>\r\n                            </xs:simpleContent>\r\n                        </xs:complexType>\r\n                    </xs:element>\r\n                    <xs:any namespace=\"##other\" processContents=\"lax\"\r\n                        minOccurs=\"0\"\r\n                        maxOccurs=\"unbounded\"/>\r\n                </xs:choice>\r\n                <xs:attribute name=\"action\" type=\"xs:token\"\r\n                    use=\"required\"/>\r\n                \r\n                <xs:attribute name=\"int-id\" type=\"xs:unsignedInt\"/>\r\n                <xs:attribute name=\"persistence\"\r\n                    type=\"xs:duration\"/>\r\n                <xs:attribute name=\"datatype\" type=\"xs:token\"/>\r\n                <xs:attribute name=\"supported-values\"\r\n                    type=\"xs:string\"/>\r\n                <xs:attribute name=\"element-id\" type=\"xs:token\"/>\r\n                <xs:attribute name=\"requested-state\"\r\n                    type=\"xs:token\"/>\r\n                <xs:anyAttribute/>\r\n            </xs:restriction>\r\n        </xs:complexContent>\r\n    </xs:complexType>\r\n</xs:schema>",
    "notes": "The complex types \"controlType\", \"ackType\", \"capabilitiesType\" and \"requestType\" define extension points by using xs:any with namespace ##any. This violates the \"Unique Particle Attribution\" rule for XSD 1.0 (see: https://www.w3.org/wiki/UniqueParticleAttribution) and shows up as an error in some tools.\r\n\r\nI suggest changing the namespace to ##other like it's done in other schemas (for example, RFC7865 defines extension points in this way: https://datatracker.ietf.org/doc/html/rfc7865#section-9 ).\r\n\r\n[Verifier note:]\r\n\r\nReplace all four occurrences of:\r\n\r\n<xs:any namespace=\"##any\" processContents=\"lax\">\r\n\r\nwith:\r\n\r\n<xs:any namespace=\"##other\" processContents=\"lax\">\r\n",
    "submit_date": "2024-01-09",
    "submitter_name": "Andreas Wehrmann",
    "verifier_id": "2",
    "verifier_name": "Murray Kucherawy",
    "update_date": "2024-04-23 22:01:17"
  }
]
