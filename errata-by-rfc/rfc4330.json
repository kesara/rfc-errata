[
  {
    "errata_id": "2263",
    "doc-id": "RFC4330",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "5",
    "orig_text": "4.  The server reply should be discarded if any of the LI, Stratum,\r\n    or Transmit Timestamp fields is 0 or the Mode field is not 4\r\n    (unicast) or 5 (broadcast).",
    "correct_text": "4.  The server reply should be discarded if any of the VN, Stratum, \r\n    or Transmit Timestamp fields is 0 or the Mode field is not 4 \r\n    (unicast) or 5 (broadcast).",
    "notes": "Zero is a legal value for the LI field under normal conditions. Zero is not legal for VN field, however.",
    "submit_date": "2010-05-15",
    "submitter_name": "Scott Barnes",
    "verifier_id": "2",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "2480",
    "doc-id": "RFC4330",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "4",
    "orig_text": "      MSF        Rugby (UK) Radio 60 kHz\r\n",
    "correct_text": "      MSF        Anthorn (UK) Radio 60 kHz\r\n",
    "notes": "The MSF transmitter was relocated from Rugby to Anthorn, in Cumbria, on 2007 March 31.  See http://www.npl.co.uk/science-+-technology/time-and-frequency/npl-ensures-accurate-uk-time-for-the-next-15-years\r\n\r\nhttp://www.npl.co.uk/educate-explore/what-is-time/what-is-msf confirms this.",
    "submit_date": "2010-08-20",
    "submitter_name": "Dave Higton",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "5895",
    "doc-id": "RFC4330",
    "errata_status_code": "Rejected",
    "errata_type_code": "Technical",
    "section": "4",
    "orig_text": "   Root Delay: This is a 32-bit signed fixed-point number indicating the\r\n   total roundtrip delay to the primary reference source, in seconds\r\n   with the fraction point between bits 15 and 16.  Note that this\r\n   variable can take on both positive and negative values, depending on\r\n   the relative time and frequency offsets.  This field is significant\r\n   only in server messages, where the values range from negative values\r\n   of a few milliseconds to positive values of several hundred\r\n   milliseconds.\r\n",
    "correct_text": "   Root Delay: This is a 32-bit unsigned fixed-point number indicating\r\n   the total roundtrip delay to the primary reference source, in seconds\r\n   with the fraction point between bits 15 and 16.  This field is\r\n   significant only in server messages.\r\n",
    "notes": "RFC 4330 claims the root delay is a number indicating the \"total roundtrip delay to the primary reference source\". As the minimum amount of time it can take to reach the other server is zero, the delay must be greater than or equal to zero. A sign should never be necessary for root delay alone.\r\n\r\nNTPv3 (RFC 1305) defines the root delay type to be \"…a signed fixed-point number indicating the total roundtrip delay to the primary reference source at the root of the synchronization subnet, in seconds. Note that this variable can take on both positive and negative values, depending on clock precision and skew.\"\r\n\r\nWhile NTPv3 clearly indicates that it should be signed, it should still never be possible to populate this with a negative value since it is still a total roundtrip delay.\r\n\r\nNTPv4 (RFC 5905) changes the root delay type to be the NTP Short Format, which \"…includes a 16-bit unsigned seconds field and a 16-bit fraction field.\"\r\n\r\nRFC 5905's Code Skeleton also has implementations that treat the root delay field as entirely unsigned:\r\n/*\r\n * Timestamp conversion macroni\r\n */\r\n#define FRIC        65536.                  /* 2^16 as a double */\r\n#define D2FP(r)     ((tdist)((r) * FRIC))   /* NTP short */\r\n#define FP2D(r)     ((double)(r) / FRIC)\r\n…\r\n        p->rootdelay = FP2D(r->rootdelay);\r\n…\r\n        x.rootdelay = D2FP(s.rootdelay);\n --VERIFIER NOTES-- \n RFC 4330 has been obsoleted by RFC 5905, an IETF standards track document. It is, therefore, inappropriate to continue to make errata reports against RFC 4330.\r\n\r\nIt may be worth noting that in RFC 5905, the 'Root Delay' field of the NTP message is described as:\r\n\r\n   Total round-trip delay to the reference clock, in NTP short format.",
    "submit_date": "2019-11-07",
    "submitter_name": "Daniel Loffgren",
    "verifier_id": "157",
    "verifier_name": "Adrian Farrel",
    "update_date": "2019-11-07 05:30:41"
  },
  {
    "errata_id": "6436",
    "doc-id": "RFC4330",
    "errata_status_code": "Rejected",
    "errata_type_code": "Technical",
    "section": "5",
    "orig_text": "   The roundtrip delay d and system clock offset t are defined as:\r\n\r\n      d = (T4 - T1) - (T3 - T2)     t = ((T2 - T1) + (T3 - T4)) / 2.",
    "correct_text": "   The roundtrip delay d and system clock offset t are defined as:\r\n\r\n      d = (T4 - T1) - (T3 - T2)     t = ((T2 - T1) + (T4 - T3)) / 2.",
    "notes": "In the equation for \"t\", the values T3 and T4 are swapped. This can cause the value to be off by over 120 years.\n --VERIFIER NOTES-- \nNote that:\r\n- RFC 4330 has been obsoleted by RFC 5905 so raising errata reports against it is no longer\r\n   valuable\r\n- RFC 5905 contains the same text as reported here\r\n- There is already an errata report (https://www.rfc-editor.org/errata_search.php?eid=5020)\r\n  against RFC 5905 reporting this problem.",
    "submit_date": "2021-02-22",
    "submitter_name": "Ellen Marie Dash",
    "verifier_id": "157",
    "verifier_name": "Adrian Farrel",
    "update_date": "2021-02-24 07:42:15"
  }
]
