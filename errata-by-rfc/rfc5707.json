[
  {
    "errata_id": "3373",
    "doc-id": "RFC5707",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "16.2.2",
    "orig_text": "<xs:attribute name=\"amt\" use=\"optional\">\r\n    <xs:simpleType>\r\n        <xs:restriction base=\"xs:integer\">\r\n            <xs:minInclusive value=\"-96\"/>\r\n            <xs:maxInclusive value=\"96\"/>\r\n        </xs:restriction>\r\n    </xs:simpleType>\r\n</xs:attribute>",
    "correct_text": "<xs:attribute name=\"amt\" use=\"optional\">\r\n    <xs:simpleType>\r\n        <xs:union>\r\n            <xs:simpleType>\r\n                <xs:restriction base=\"xs:integer\">\r\n                    <xs:minInclusive value=\"-96\" />\r\n                    <xs:maxInclusive value=\"96\" />\r\n                </xs:restriction>\r\n            </xs:simpleType>\r\n            <xs:simpleType>\r\n                <xs:restriction base=\"xs:string\">\r\n                    <xs:enumeration value=\"mute\" />\r\n                </xs:restriction>\r\n            </xs:simpleType>\r\n        </xs:union>\r\n    </xs:simpleType>\r\n</xs:attribute>",
    "notes": "Section \"8.12.1.1 <gain>\" says, for the \"amt\" attribute of the <gain> element:\r\n\r\n\"amt: a specific gain to apply specified in dB or the string \"mute\"\r\n      indicating that the stream should be muted.  This attribute MUST\r\n      NOT be used if \"agc\" is present.\"\r\n\r\nHowever, in section \"16.2.2. msml-conf-core-datatypes.xsd\" the provided schema does not allow the value \"mute\", only integers. Either the XSD should be corrected as suggested, or the part\r\n'or the string \"mute\" indicating that the stream should be muted' removed from the description.",
    "submit_date": "2012-10-09",
    "submitter_name": "Tamás Györgyey",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4021",
    "doc-id": "RFC5707",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "8.3",
    "orig_text": "8.3\r\n      deletewhen: defines whether a media server should automatically\r\n      delete the conference.  Possible values are \"nomedia\",\r\n      \"nocontrol\", and \"never\".  Default is \"nomedia\".\r\n16.2.2\r\n<xs:attribute name=\"deletewhen\" default=\"never\">\r\n      <xs:simpleType>\r\n       <xs:restriction base=\"xs:string\">\r\n        <xs:enumeration value=\"nomedia\"/>\r\n        <xs:enumeration value=\"nocontrol\"/>\r\n        <xs:enumeration value=\"never\"/>\r\n       </xs:restriction>\r\n      </xs:simpleType>\r\n     </xs:attribute>\r\n10.2.2.1\r\ndeletewhen: as defined by <createconference> element in MSML\r\n      Conference Core Package.\r\n16.4.4\r\n<xs:attribute name=\"deletewhen\" use=\"optional\" default=\"never\">\r\n      <xs:simpleType>\r\n       <xs:restriction base=\"xs:string\">\r\n        <xs:enumeration value=\"nomedia\"/>\r\n        <xs:enumeration value=\"nocontrol\"/>\r\n        <xs:enumeration value=\"never\"/>\r\n       </xs:restriction>\r\n      </xs:simpleType>\r\n     </xs:attribute>",
    "correct_text": null,
    "notes": "I don't know which is right, it is \"nomedia\" from 8.3 and \"never\" from xsd. One of it should be rewrite. The same thing to the 10.2.2.1 and 16.4.4.\r\n\r\n16.2.2 may be missed 'use=\"optional\"'.\r\n\r\n---\r\n\r\nThis RFC's authors confirm that section 8.3 is incorrect; deletewhen's deafult should be 'never'.\r\n\r\nAs well, \"if the 'use=' atribute is not specified in the schema definition for a given attribute, then it defaults to 'optional'\".",
    "submit_date": "2014-06-23",
    "submitter_name": "Wang Lihe",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4171",
    "doc-id": "RFC5707",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "16.3.4",
    "orig_text": "<xs:element name=\"record\" substitutionGroup=\"primitive\">\r\n<xs:complexType>\r\n<xs:complexContent>\r\n<xs:extension base=\"primitiveType\">\r\n<xs:choice minOccurs=\"0\">\r\n<xs:element ref=\"play\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\r\n<xs:element ref=\"tonegen\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\r\n<xs:element name=\"recordexit\">\r\n<xs:complexType>\r\n<xs:group ref=\"sendType\"/>\r\n</xs:complexType>\r\n</xs:element>\r\n</xs:choice>",
    "correct_text": "<xs:element name=\"record\" substitutionGroup=\"primitive\">\r\n<xs:complexType>\r\n<xs:complexContent>\r\n<xs:extension base=\"primitiveType\">\r\n<xs:choice minOccurs=\"0\">\r\n<xs:element ref=\"play\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\r\n<xs:element ref=\"tonegen\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>\r\n</xs:choice>\r\n<xs:element name=\"recordexit\">\r\n<xs:complexType>\r\n<xs:group ref=\"sendType\"/>\r\n</xs:complexType>\r\n</xs:element>",
    "notes": "Example in section 13.3 shows both <play> and <recordexit> within <record>\r\nbut the schema doesn't allows this\r\n\r\nSec 13.3 example\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<msml version=\"1.1\">\r\n<dialogstart target=\"conn:12345\" name=\"12345\">\r\n<record prespeech=\"3s\" postspeech=\"5s\" maxtime=\"60s\" termkey=\"#\"\r\ndest=\"file://record.wav\" format=\"g729\">\r\n<play barge=\"true\">\r\n<audio uri=\"file://prompt.wav\"/>\r\n</play>\r\n<recordexit>\r\n<send target=\"source\" event=\"done\"\r\nnamelist=\"record.len record.end\"/>\r\n</recordexit>\r\n</record>\r\n</dialogstart>\r\n</msml>",
    "submit_date": "2014-11-11",
    "submitter_name": "Mistake in Schema",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4640",
    "doc-id": "RFC5707",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "16.3.10",
    "orig_text": "<xs:element name=\"tts\" type=\"smediaType\" substitutionGroup=\"smedia\"/>",
    "correct_text": " <xs:element name=\"tts\" substitutionGroup=\"smedia\">\r\n  <xs:complexType mixed=\"true\">\r\n   <xs:complexContent>\r\n    <xs:extension base=\"smediaType\">\r\n     <xs:attribute name=\"uri\" type=\"xs:string\" use=\"optional\"/>\r\n    </xs:extension>\r\n   </xs:complexContent>\r\n  </xs:complexType>\r\n </xs:element>",
    "notes": "The tts element as is provided does not accept the uri attribute, nor the text content indicated by the RFC. The corrected validation supports commands like the following:\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<msml version=\"1.1\">\r\n  <dialogstart target=\"conn:AAI_Unique_ID_1\" name=\"sample\" type=\"application/moml+xml\">\r\n    <play>                    \r\n      <tts uri=\"file:///somefile.vxml\"/>\r\n      <tts uri=\"file:///someotherfile.vxml\" iterate=\"2\" xml:lang=\"en-us\"/>\r\n      <tts xml:lang=\"es-ar\">text to be read</tts>\r\n      <tts>other text</tts>\r\n    </play>\r\n  </dialogstart>\r\n</msml>",
    "submit_date": "2016-03-16",
    "submitter_name": "Ignacio Bertacchini",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4961",
    "doc-id": "RFC5707",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "GLOBAL",
    "orig_text": null,
    "correct_text": null,
    "notes": "There are some inconsistencies between the examples and the published XSD.\r\n\r\n#1: In all of the examples, <dialogid> is the child of <msml>, but the XSD only accepts it if it's the child of <result>.\r\n\r\nFor example, this is wrong:\r\n<msml version=\"1.1\">\r\n    <result response=\"200\"/>\r\n    <dialogid>conn:jd87dfg4h/dialog:12345</dialogid>\r\n</msml>\r\n\r\nThis would be the correct one, according to the XSD:\r\n<msml version=\"1.1\">\r\n    <result response=\"200\">\r\n        <dialogid>conn:jd87dfg4h/dialog:12345</dialogid>\r\n    </result>\r\n</msml>\r\n\r\n#2: The XSD say the <event> tag must have children, but there are examples where it doesn't have. The 'minOccurs' attribute in the regarding <xs:choice> is not explicitly specified in msml-core.xsd, but the default value is '1', so there must be at least one <name> and one <value> element, in sequence.\r\n\r\nRef: https://www.w3schools.com/xml/el_choice.asp\r\n\r\nFor example, this is invalid:\r\n<event name=\"msml.dialog.exit\" id=\"conn:jd87dfg4h/dialog:12345\" />\r\n\r\n#3: This is also related to <event>. In the XSD, there is a regular expression specified for the contents of <value>. This regexp does not accept the colon ':' character, but the examples contain this character.\r\n\r\nFor example, this is not accepted because of the colon character:\r\n<event name=\"msml.conf.asn\" id=\"conf:example\">\r\n         <name>speaker</name>\r\n         <value>conn:hd93tg5hdf</value>\r\n</event>\r\n\r\n-------------------\r\nmsml-core.xsd\r\n\r\n<xs:element name=\"event\">\r\n        <xs:complexType>\r\n         <xs:choice maxOccurs=\"unbounded\">\r\n          <xs:sequence>\r\n           <xs:element name=\"name\" type=\"msmlEventNameValue.datatype\"/>\r\n           <xs:element name=\"value\">\r\n            <xs:simpleType>\r\n             <xs:restriction base=\"xs:string\">\r\n              <xs:pattern value=\"[a-zA-Z0-9.]+\"/>\r\n             </xs:restriction>\r\n            </xs:simpleType>\r\n           </xs:element>\r\n          </xs:sequence>\r\n         </xs:choice>\r\n         <xs:attribute name=\"name\" type=\"msmlEventName.datatype\" use=\"required\"/>\r\n         <xs:attribute name=\"id\" type=\"msmlEventSource.datatype\" use=\"required\"/>\r\n        </xs:complexType>\r\n</xs:element>",
    "submit_date": "2017-03-09",
    "submitter_name": "Rajmund Takács",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  }
]
