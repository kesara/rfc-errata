[
  {
    "errata_id": 3512,
    "doc-id": "RFC5878",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": 3,
    "orig_text": "struct {\r\n  SupplementalDataType supplemental_data_type;\r\n  select(SupplementalDataType) {\r\n    case authz_data: AuthorizationData;\r\n  }\r\n} SupplementalData;",
    "correct_text": "struct {\r\n  SupplementalDataType supp_data_type;\r\n  uint16 supp_data_length;\r\n  select(SupplementalDataType) {\r\n    case authz_data: AuthorizationData;\r\n  }\r\n} SupplementalDataEntry;\r\n\r\nsupp_data_length This field is the length (in bytes) of the data \r\nselected by SupplementalDataType.",
    "notes": null,
    "submit_date": "2013-03-08",
    "submitter_name": "Ben Laurie",
    "verifier_id": 141,
    "verifier_name": "Kathleen Moriarty",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": 3513,
    "doc-id": "RFC5878",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": 3.3,
    "orig_text": "struct{\r\n  AuthorizationDataEntry authz_data_list<1..2^16­1>;\r\n} AuthorizationData;\r\n",
    "correct_text": "struct{\r\n  AuthorizationDataEntry authz_data_list[supp_data_length];\r\n} AuthorizationData;\r\n",
    "notes": null,
    "submit_date": "2013-03-08",
    "submitter_name": "Ben Laurie",
    "verifier_id": 141,
    "verifier_name": "Kathleen Moriarty",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": 3514,
    "doc-id": "RFC5878",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": 3.3,
    "orig_text": "17 # Handshake.msg_type == supplemental_data(23)\r\n00 00 11 # Handshake.length = 17\r\n00 00 0e # length of SupplementalData.supp_data = 14\r\n40 02 # SupplementalDataEntry.supp_data_type = 16386\r\n00 0a # SupplementalDataEntry.supp_data_length = 10\r\n00 08 # length of AuthorizationData.authz_data_list = 8\r\n01 # authz_format = saml_assertion(1)\r\n00 05 # length of SAMLAssertion\r\naa aa aa aa aa # SAML assertion (fictitious: \"aa aa aa aa aa\")",
    "correct_text": "17 # Handshake.msg_type == supplemental_data(23)\r\n00 00 0f # Handshake.length = 15\r\n00 00 0d # length of SupplementalData.supp_data = 13\r\n40 02 # SupplementalDataEntry.supp_data_type = 16386\r\n00 0a # SupplementalDataEntry.supp_data_length = 8\r\n01 # authz_format = saml_assertion(1)\r\n00 05 # length of SAMLAssertion\r\naa aa aa aa aa # SAML assertion (fictitious: \"aa aa aa aa aa\")",
    "notes": "Per Russ Housley: We do not have an implementation that can be used to check the hex values, but they appear to be correct.",
    "submit_date": "2013-03-08",
    "submitter_name": "Ben Laurie",
    "verifier_id": 141,
    "verifier_name": "Kathleen Moriarty",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": 3515,
    "doc-id": "RFC5878",
    "errata_status_code": "Reported",
    "errata_type_code": "Technical",
    "section": 3.3,
    "orig_text": "struct {\r\n  AuthzDataFormat authz_format;\r\n  select (AuthzDataFormat) {\r\n    case x509_attr_cert: X509AttrCert;\r\n    case saml_assertion: SAMLAssertion;\r\n    case x509_attr_cert_url: URLandHash;\r\n    case saml_assertion_url: URLandHash;\r\n  }\r\n} AuthorizationDataEntry;\r\n\r\nenum {\r\n  x509_attr_cert(0), saml_assertion(1), x509_attr_cert_url(2),\r\n  saml_assertion_url(3), (255)\r\n} AuthzDataFormat;opaque X509AttrCert<1..2^16­1>;\r\n\r\nopaque SAMLAssertion<1..2^16­1>;\r\n\r\nstruct {\r\n  opaque url<1..2^16­1>;\r\n  HashAlgorithm hash_alg;\r\n  select (hash_alg) {\r\n    case md5: MD5Hash;\r\n    case sha1: SHA1Hash;\r\n    case sha224: SHA224Hash;\r\n    case sha256: SHA256Hash;\r\n    case sha384: SHA384Hash;\r\n    case sha512: SHA512Hash;\r\n  } hash;\r\n} URLandHash;\r\n",
    "correct_text": "struct {\r\n  AuthzDataFormat authz_format;\r\n  uint16 authz_data_length;\r\n  select (AuthzDataFormat) {\r\n    case x509_attr_cert: X509AttrCert;\r\n    case saml_assertion: SAMLAssertion;\r\n    case x509_attr_cert_url: URLandHash;\r\n    case saml_assertion_url: URLandHash;\r\n  }\r\n} AuthorizationDataEntry;\r\n\r\nauthz_data_length This field is the length (in bytes) of the data \r\nselected by AuthzDataFormat.\r\n\r\nenum {\r\n  x509_attr_cert(0), saml_assertion(1), x509_attr_cert_url(2),\r\n  saml_assertion_url(3), (255)\r\n} AuthzDataFormat;\r\n\r\nopaque X509AttrCert[authz_data_length];\r\n\r\nopaque SAMLAssertion[authz_data_length];\r\n\r\nstruct {\r\n  opaque url<1..2^16­1>;\r\n  HashAlgorithm hash_alg;\r\n  select (hash_alg) {\r\n    case md5: MD5Hash;\r\n    case sha1: SHA1Hash;\r\n    case sha224: SHA224Hash;\r\n    case sha256: SHA256Hash;\r\n    case sha384: SHA384Hash;\r\n    case sha512: SHA512Hash;\r\n  } hash;\r\n} URLandHash;\r\n\r\nExample: similarly to the example on p. 7, authorization data \r\nconsisting of an X509 attribute cert\r\n\r\na SAML assertion URL is encoded as\r\n\r\n17 # Handshake.msg_type == supplemental_data(23)\r\n00 00 38 # Handshake.length = 56\r\n00 00 53 # length of SupplementalData.supp_data = 53\r\n40 02 # SupplementalDataEntry.supp_data_type = 16386\r\n00 31 # SupplementalDataEntry.supp_data_length = 49\r\n00 # authz_format = x509_attr_cert(0)\r\n00 05 # authz_data_length = 5\r\naa aa aa aa aa # X509AttrCert fictitious: \"aa aa aa aa aa\"\r\n01 # authz_format = saml_assertion_url(3)\r\n00 26 # authz_data_length = 38\r\n00 03 # length of URLAndHash url\r\nbb bb bb # url fictitious: \"bb bb bb\"\r\n04 # hash_alg = sha256(4)\r\n00 01 02 03 # sha256 hash: \"00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d\r\n04 05 06 07 # 0e 0f 10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f\"\r\n08 09 0a 0b #\r\n0c 0d 0e 0f #\r\n10 11 12 13 #\r\n14 15 16 17 #\r\n18 19 1a 1b #\r\n1c 1d 1e 1f #",
    "notes": "Proposed change: Allow opaque parsing of AuthorizationData entries. As AuthorizationData\r\nmay be intended for use by applications rather than the handshake itself, it is desirable that TLS\r\nservers and clients be able to parse this data without being aware of its structure.",
    "submit_date": "2013-03-08",
    "submitter_name": "Ben Laurie",
    "verifier_id": 2,
    "verifier_name": null,
    "update_date": "2019-09-10 09:09:03"
  }
]
