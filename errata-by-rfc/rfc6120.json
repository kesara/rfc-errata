[
  {
    "errata_id": "2855",
    "doc-id": "RFC6120",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Editorial",
    "section": "3.2.1",
    "orig_text": "3. If a response is received, it will contain one or more\r\ncombinations of a port and FDQN,",
    "correct_text": "3. If a response is received, it will contain one or more\r\ncombinations of a port and FQDN,",
    "notes": "There are multiple occurrences (1 each in list items 3, 4, 5, 6 & 7). All read FDQN and should read FQDN",
    "submit_date": "2011-07-06",
    "submitter_name": "Toby Moncaster",
    "verifier_id": "118",
    "verifier_name": "Robert Sparks",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3486",
    "doc-id": "RFC6120",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Editorial",
    "section": "5.4.1",
    "orig_text": "The receiving entity then MUST send stream features to the initiating\r\nentity.  If the receiving entity supports TLS, the stream features\r\nMUST include an advertisement for support of STARTTLS negotiation,\r\ni.e., a <starttls/> element qualified by the\r\n'urn:ietf:params:xml:ns:xmpp-tls' namespace.",
    "correct_text": "The receiving entity then MUST send stream features to the initiating \r\nentity.  If the receiving entity offers TLS capability, the stream \r\nfeatures MUST include an advertisement for support of STARTTLS \r\nnegotiation, i.e., a <starttls/> element qualified by the\r\n'urn:ietf:params:xml:ns:xmpp-tls' namespace.",
    "notes": "Current text mixes up actual support of STARTTLS/TLS (which is mandated by section 5.2) with deployment/availableness of the said.",
    "submit_date": "2013-02-18",
    "submitter_name": "Marco Cirillo",
    "verifier_id": "123",
    "verifier_name": "Gonzalo Camarillo",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3650",
    "doc-id": "RFC6120",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Editorial",
    "section": "Appendix A.2",
    "orig_text": "  <xs:element name='bad-format' type='empty'/>\r\n  <xs:element name='bad-namespace-prefix' type='empty'/>\r\n  <xs:element name='conflict' type='empty'/>\r\n  <xs:element name='connection-timeout' type='empty'/>\r\n  <xs:element name='host-gone' type='empty'/>\r\n  <xs:element name='host-unknown' type='empty'/>\r\n  <xs:element name='improper-addressing' type='empty'/>\r\n  <xs:element name='internal-server-error' type='empty'/>\r\n  <xs:element name='invalid-from' type='empty'/>\r\n  <xs:element name='invalid-id' type='empty'/>\r\n  <xs:element name='invalid-namespace' type='empty'/>\r\n  <xs:element name='invalid-xml' type='empty'/>\r\n  <xs:element name='not-authorized' type='empty'/>\r\n  <xs:element name='not-well-formed' type='empty'/>\r\n  <xs:element name='policy-violation' type='empty'/>\r\n  <xs:element name='remote-connection-failed' type='empty'/>\r\n  <xs:element name='reset' type='empty'/>\r\n  <xs:element name='resource-constraint' type='empty'/>\r\n  <xs:element name='restricted-xml' type='empty'/>\r\n  <xs:element name='see-other-host' type='xs:string'/>\r\n  <xs:element name='system-shutdown' type='empty'/>\r\n  <xs:element name='undefined-condition' type='empty'/>\r\n  <xs:element name='unsupported-encoding' type='empty'/>\r\n  <xs:element name='unsupported-stanza-type' type='empty'/>\r\n  <xs:element name='unsupported-version' type='empty'/>\r\n\r\n  <xs:group name='streamErrorGroup'>\r\n    <xs:choice>\r\n      <xs:element ref='bad-format'/>\r\n      <xs:element ref='bad-namespace-prefix'/>\r\n      <xs:element ref='conflict'/>\r\n      <xs:element ref='connection-timeout'/>\r\n      <xs:element ref='host-gone'/>\r\n      <xs:element ref='host-unknown'/>\r\n      <xs:element ref='improper-addressing'/>\r\n      <xs:element ref='internal-server-error'/>\r\n      <xs:element ref='invalid-from'/>\r\n      <xs:element ref='invalid-id'/>\r\n      <xs:element ref='invalid-namespace'/>\r\n      <xs:element ref='invalid-xml'/>\r\n      <xs:element ref='not-authorized'/>\r\n      <xs:element ref='not-well-formed'/>\r\n      <xs:element ref='policy-violation'/>\r\n      <xs:element ref='remote-connection-failed'/>\r\n      <xs:element ref='reset'/>\r\n      <xs:element ref='resource-constraint'/>\r\n      <xs:element ref='restricted-xml'/>\r\n      <xs:element ref='see-other-host'/>\r\n      <xs:element ref='system-shutdown'/>\r\n      <xs:element ref='undefined-condition'/>\r\n      <xs:element ref='unsupported-encoding'/>\r\n      <xs:element ref='unsupported-stanza-type'/>\r\n      <xs:element ref='unsupported-version'/>\r\n    </xs:choice>\r\n  </xs:group>",
    "correct_text": "  <xs:element name='bad-format' type='empty'/>\r\n  <xs:element name='bad-namespace-prefix' type='empty'/>\r\n  <xs:element name='conflict' type='empty'/>\r\n  <xs:element name='connection-timeout' type='empty'/>\r\n  <xs:element name='host-gone' type='empty'/>\r\n  <xs:element name='host-unknown' type='empty'/>\r\n  <xs:element name='improper-addressing' type='empty'/>\r\n  <xs:element name='internal-server-error' type='empty'/>\r\n  <xs:element name='invalid-from' type='empty'/>\r\n  <xs:element name='invalid-namespace' type='empty'/>\r\n  <xs:element name='invalid-xml' type='empty'/>\r\n  <xs:element name='not-authorized' type='empty'/>\r\n  <xs:element name='not-well-formed' type='empty'/>\r\n  <xs:element name='policy-violation' type='empty'/>\r\n  <xs:element name='remote-connection-failed' type='empty'/>\r\n  <xs:element name='reset' type='empty'/>\r\n  <xs:element name='resource-constraint' type='empty'/>\r\n  <xs:element name='restricted-xml' type='empty'/>\r\n  <xs:element name='see-other-host' type='xs:string'/>\r\n  <xs:element name='system-shutdown' type='empty'/>\r\n  <xs:element name='undefined-condition' type='empty'/>\r\n  <xs:element name='unsupported-encoding' type='empty'/>\r\n  <xs:element name='unsupported-feature' type='empty'/>\r\n  <xs:element name='unsupported-stanza-type' type='empty'/>\r\n  <xs:element name='unsupported-version' type='empty'/>\r\n\r\n  <xs:group name='streamErrorGroup'>\r\n    <xs:choice>\r\n      <xs:element ref='bad-format'/>\r\n      <xs:element ref='bad-namespace-prefix'/>\r\n      <xs:element ref='conflict'/>\r\n      <xs:element ref='connection-timeout'/>\r\n      <xs:element ref='host-gone'/>\r\n      <xs:element ref='host-unknown'/>\r\n      <xs:element ref='improper-addressing'/>\r\n      <xs:element ref='internal-server-error'/>\r\n      <xs:element ref='invalid-from'/>\r\n      <xs:element ref='invalid-namespace'/>\r\n      <xs:element ref='invalid-xml'/>\r\n      <xs:element ref='not-authorized'/>\r\n      <xs:element ref='not-well-formed'/>\r\n      <xs:element ref='policy-violation'/>\r\n      <xs:element ref='remote-connection-failed'/>\r\n      <xs:element ref='reset'/>\r\n      <xs:element ref='resource-constraint'/>\r\n      <xs:element ref='restricted-xml'/>\r\n      <xs:element ref='see-other-host'/>\r\n      <xs:element ref='system-shutdown'/>\r\n      <xs:element ref='undefined-condition'/>\r\n      <xs:element ref='unsupported-encoding'/>\r\n      <xs:element ref='unsupported-feature'/>\r\n      <xs:element ref='unsupported-stanza-type'/>\r\n      <xs:element ref='unsupported-version'/>\r\n    </xs:choice>\r\n  </xs:group>",
    "notes": "The \"invalid-id\" error condition was removed in the changes between RFC 3920 and RFC 6120, but mistakenly not removed from the schema. The \"unsupported-feature\" error condition was added in the changes between RFC 3920 and RFC 6120, but mistakenly not added to the schema.\r\n\r\nThis bug was found by Anastasia Gornostaeva.\r\n\r\nImplementors using the schema as updated by this erratum should note that if they produce XML that includes the \"unsupported-feature\" element, then it might be rejected as invalid by implementations using the original schema.  Likewise, if they produce XML that includes the \"invalid-id\" element, then it might be rejected as invalid by implementations following the revised schema.",
    "submit_date": "2013-06-12",
    "submitter_name": "Peter Saint-Andre",
    "verifier_id": "136",
    "verifier_name": "Richard Barnes",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3651",
    "doc-id": "RFC6120",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Editorial",
    "section": "4.9.3.19",
    "orig_text": "\"(b) the receiving entity MAY have a policy of following redirects only\r\nif it has authenticated the receiving entity\"",
    "correct_text": "\"(b) the initiating entity MAY have a policy of following redirects only \r\nif it has authenticated the receiving entity\"",
    "notes": "This bug was found by Yann Leboulanger.",
    "submit_date": "2013-06-12",
    "submitter_name": "Peter Saint-Andre",
    "verifier_id": "136",
    "verifier_name": "Richard Barnes",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4228",
    "doc-id": "RFC6120",
    "errata_status_code": "Reported",
    "errata_type_code": "Technical",
    "section": "A.6.",
    "orig_text": "     <xs:element name='subject'>\r\n       <xs:complexType>\r\n         <xs:simpleContent>\r\n           <xs:extension base='xs:string'>\r\n             <xs:attribute ref='xml:lang' use='optional'/>\r\n           </xs:extension>\r\n         </xs:simpleContent>\r\n       </xs:complexType>\r\n     </xs:element>\r\n\r\n     <xs:element name='thread'>\r\n       <xs:complexType>\r\n         <xs:simpleContent>\r\n           <xs:extension base='xs:NMTOKEN'>\r\n             <xs:attribute name='parent'\r\n                           type='xs:NMTOKEN'\r\n                           use='optional'/>\r\n           </xs:extension>\r\n         </xs:simpleContent>\r\n       </xs:complexType>\r\n     </xs:element>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nSaint-Andre                  Standards Track                  [Page 202]\r\n\r\n \r\nRFC 6120                        XMPP Core                     March 2011\r\n\r\n\r\n     <xs:element name='subject'>\r\n       <xs:complexType>\r\n         <xs:simpleContent>\r\n           <xs:extension base='xs:NMTOKEN'>\r\n             <xs:attribute name='parent'\r\n                           type='xs:NMTOKEN'\r\n                           use='optional'/>\r\n           </xs:extension>\r\n         </xs:simpleContent>\r\n       </xs:complexType>\r\n     </xs:element>",
    "correct_text": "     <xs:element name='subject'>\r\n       <xs:complexType>\r\n         <xs:simpleContent>\r\n           <xs:extension base='xs:string'>\r\n             <xs:attribute ref='xml:lang' use='optional'/>\r\n           </xs:extension>\r\n         </xs:simpleContent>\r\n       </xs:complexType>\r\n     </xs:element>\r\n\r\n     <xs:element name='thread'>\r\n       <xs:complexType>\r\n         <xs:simpleContent>\r\n           <xs:extension base='xs:NMTOKEN'>\r\n             <xs:attribute name='parent'\r\n                           type='xs:NMTOKEN'\r\n                           use='optional'/>\r\n           </xs:extension>\r\n         </xs:simpleContent>\r\n       </xs:complexType>\r\n     </xs:element>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nSaint-Andre                  Standards Track                  [Page 202]\r\n\r\n \r\nRFC 6120                        XMPP Core                     March 2011\r\n\r\n\r\n",
    "notes": "The issue is that the definition of the referenced element 'subject' is duplicated.\r\n\r\nThis can be easily tested via a command like:\r\n\r\n$ xmllint --schema XMLSchema_1.1.xsd server.xsd --noout\r\nserver.xsd:84: element element: Schemas validity error : Element '{http://www.w3.org/2001/XMLSchema}element': Duplicate key-sequence ['subject'] in key identity-constraint '{http://www.w3.org/2001/XMLSchema}element'.\r\nserver.xsd fails to validate\r\n\r\nThe corrected text contains one possible edit how to make the XSD of the server namespace valid again. Of course, another possibility would be to remove the first definition of the 'subject' element.\r\n\r\nI've eliminated the second definition because the first one equals the one from section A.5. (Client Namespace).",
    "submit_date": "2015-01-10",
    "submitter_name": "Georg Sauthoff",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4741",
    "doc-id": "RFC6120",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "8.2.3",
    "orig_text": "1.  The 'id' attribute is REQUIRED for IQ stanzas.\r\n\r\n…\r\n\r\n3.  An entity that receives a stanza of type \"get\" or \"set\" MUST\r\n    reply with an IQ respones of type \"result\" or \"error\".  The\r\n    response MUST preserve the 'id' attribute of the request (or be\r\n    empty if the generated stanza did not include an 'id' attribute).",
    "correct_text": "1.  The 'id' attribute is REQUIRED for IQ stanzas.\r\n\r\n…\r\n\r\n3.  An entity that receives a stanza of type \"get\" or \"set\" MUST\r\n    reply with an IQ respones of type \"result\" or \"error\".  The\r\n    response MUST preserve the 'id' attribute of the request, or\r\n    send an appropriate error if the generated stanza did not\r\n    include an 'id' attribute.",
    "notes": "If the received IQ had an empty ID then it was not valid per point 1 and clients and servers cannot key on the ID (eg. for key mapped lists of IQs pending receipt or dispatch of a reply). An appropriate error or other behavior should be defined if the 'id' is meant to be REQUIRED, otherwise, if point 3 is correct, then 'id' should not be REQUIRED.",
    "submit_date": "2016-07-13",
    "submitter_name": "Sam Whited",
    "verifier_id": "147",
    "verifier_name": "Ben Campbell",
    "update_date": "2019-09-10 09:09:03"
  }
]
