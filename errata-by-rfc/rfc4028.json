[
  {
    "errata_id": "1681",
    "doc-id": "RFC4028",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "13",
    "orig_text": "In section 13 (Example Call Flow) the From tag never changes \r\nbetween the initial INVITE message and the subsequent INVITE \r\nmessages sent after receiving a 422:\r\n\r\nmessage 1\r\n   INVITE sips:bob@biloxi.example.com SIP/2.0\r\n   Via: SIP/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bKnashds8\r\n   Supported: timer\r\n   Session-Expires: 50\r\n   Max-Forwards: 70\r\n   To: Bob <sips:bob@biloxi.example.com>\r\n   From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n   Call-ID: a84b4c76e66710\r\n   CSeq: 314159 INVITE\r\n   Contact: <sips:alice@pc33.atlanta.example.com>\r\n   Content-Type: application/sdp\r\n   Content-Length: 142\r\n\r\nmessage 4\r\n   INVITE sips:bob@biloxi.example.com SIP/2.0\r\n   Via: SIP/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bKnashds9\r\n   Supported: timer\r\n   Session-Expires: 3600\r\n   Min-SE: 3600\r\n   Max-Forwards: 70\r\n   To: Bob <sips:bob@biloxi.example.com>\r\n   From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n   Call-ID: a84b4c76e66710\r\n   CSeq: 314160 INVITE\r\n   Contact: <sips:alice@pc33.atlanta.example.com>\r\n   Content-Type: application/sdp\r\n   Content-Length: 142\r\n\r\nmessage 10\r\n   INVITE sips:bob@biloxi.example.com SIP/2.0\r\n   Via: SIP/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bKnashds10\r\n   Supported: timer\r\n   Session-Expires: 4000\r\n   Min-SE: 4000\r\n   Max-Forwards: 70\r\n   To: Bob <sips:bob@biloxi.example.com>\r\n   From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n   Call-ID: a84b4c76e66710\r\n   CSeq: 314161 INVITE\r\n   Contact: <sips:alice@pc33.atlanta.example.com>\r\n   Content-Type: application/sdp\r\n\r\nHowever, as per RFC 3261, if an initial INVITE generates a non-2xx final\r\nresponse, that terminates all sessions and all dialogs that were created. \r\n\r\nHence, these are not re-INVITE messages, rather new INVITE messages and \r\nshould use a new From tag.",
    "correct_text": "message 1\r\n   INVITE sips:bob@biloxi.example.com SIP/2.0\r\n   Via: SIP/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bKnashds8\r\n   Supported: timer\r\n   Session-Expires: 50\r\n   Max-Forwards: 70\r\n   To: Bob <sips:bob@biloxi.example.com>\r\n   From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n   Call-ID: a84b4c76e66710\r\n   CSeq: 314159 INVITE\r\n   Contact: <sips:alice@pc33.atlanta.example.com>\r\n   Content-Type: application/sdp\r\n   Content-Length: 142\r\n\r\nmessage 4\r\n   INVITE sips:bob@biloxi.example.com SIP/2.0\r\n   Via: SIP/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bKnashds9\r\n   Supported: timer\r\n   Session-Expires: 3600\r\n   Min-SE: 3600\r\n   Max-Forwards: 70\r\n   To: Bob <sips:bob@biloxi.example.com>\r\n   From: Alice <sips:alice@atlanta.example.com>;tag=2568701785\r\n   Call-ID: a84b4c76e66710\r\n   CSeq: 314160 INVITE\r\n   Contact: <sips:alice@pc33.atlanta.example.com>\r\n   Content-Type: application/sdp\r\n   Content-Length: 142\r\n\r\nmessage 10\r\n   INVITE sips:bob@biloxi.example.com SIP/2.0\r\n   Via: SIP/2.0/TLS pc33.atlanta.example.com;branch=z9hG4bKnashds10\r\n   Supported: timer\r\n   Session-Expires: 4000\r\n   Min-SE: 4000\r\n   Max-Forwards: 70\r\n   To: Bob <sips:bob@biloxi.example.com>\r\n   From: Alice <sips:alice@atlanta.example.com>;tag=5647301796\r\n   Call-ID: a84b4c76e66710\r\n   CSeq: 314161 INVITE\r\n   Contact: <sips:alice@pc33.atlanta.example.com>\r\n   Content-Type: application/sdp",
    "notes": "-----Original Message-----\r\nFrom: Paul Kyzivat (pkyzivat) \r\nSent: Monday, February 09, 2009 10:09 PM\r\nTo: Muthu ArulMozhi Perumal (mperumal)\r\nCc: Radha Krishna Saragadam (rsaragad); Jonathan Rosenberg (jdrosen); Ram Mohan R (rmohanr)\r\nSubject: Re: UAS behavior after sending 422 for initial INVITE\r\n\r\nyes, I think so.\r\n\r\n\tPaul\r\n\r\nMuthu ArulMozhi Perumal (mperumal) wrote:\r\n> In section 13 (Example Call Flow) of RFC 4028 the From tag never changes\r\n> between the initial INVITE message and the subsequent INVITE messages\r\n> sent after receiving a 422:\r\n> \r\n> message 1\r\n>    INVITE sips:bob@biloxi.example.com SIP/2.0\r\n>    From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n>    Call-ID: a84b4c76e66710\r\n> \r\n> message 4\r\n>    INVITE sips:bob@biloxi.example.com SIP/2.0\r\n>    From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n>    Call-ID: a84b4c76e66710\r\n> \r\n> message 10\r\n>    INVITE sips:bob@biloxi.example.com SIP/2.0\r\n>    From: Alice <sips:alice@atlanta.example.com>;tag=1928301774\r\n>    Call-ID: a84b4c76e66710\r\n> \r\n> Is this a bug in the RFC?\r\n> \r\n> thanks,\r\n> Muthu\r\n> \r\n> |-----Original Message-----\r\n> |From: Paul Kyzivat (pkyzivat)\r\n> |Sent: Wednesday, February 04, 2009 12:36 AM\r\n> |To: Radha Krishna Saragadam (rsaragad)\r\n> |Cc: Jonathan Rosenberg (jdrosen); Muthu ArulMozhi Perumal (mperumal);\r\n> Ram Mohan R (rmohanr)\r\n> |Subject: Re: UAS behavior after sending 422 for initial INVITE\r\n> |\r\n> |Radha,\r\n> |\r\n> |It is not a reinvite, because a dialog was never established - the\r\n> first\r\n> |call failed.\r\n> |\r\n> |So you are starting a new invite. You can use the same callid, but\r\n> |should use a new from-tag.\r\n> |\r\n> |\tThanks,\r\n> |\tPaul\r\n> |\r\n> |Radha Krishna Saragadam (rsaragad) wrote:\r\n> |> Hi Paul\r\n> |>\r\n> |> \tMy question is for initial INVITE. For initial INVITE if UA\r\n> |> receives 422 and UA want to retry INVITE with new value increased\r\n> value\r\n> |> then what should be the To(with tag), From(with tag) and CallID\r\n> values?\r\n> |> Is it a Re-INVITE or new a Dialog? Section 7.3 says same value for\r\n> |> To,From and CallID\r\n> |>\r\n> |> Regards\r\n> |> S.Radha krishna",
    "submit_date": "2009-02-09",
    "submitter_name": "Muthu Arul Mozhi",
    "verifier_id": "118",
    "verifier_name": "Robert Sparks",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "1687",
    "doc-id": "RFC4028",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "9",
    "orig_text": "The UAS MUST NOT increase the value of the Session-Expires header field.\r\n",
    "correct_text": "same as session 8.1\r\n   If the request doesn't indicate support for the session timer but\r\n   contains a session interval that is too small, the UAS cannot\r\n   usefully reject the request, as this would result in a call failure.\r\n   Rather, the UAS SHOULD insert a Min-SE header field containing its\r\n   minimum interval.  If a Min-SE header field is already present, the\r\n   UAS SHOULD increase (but MUST NOT decrease) the value to its\r\n   minimum interval.  The UAS MUST then increase the Session-Expires\r\n   header field value to be equal to the value in the Min-SE header\r\n   field",
    "notes": "----- Forwarded Message ----\r\nFrom: Radha krishna <krishna_srk2003@yahoo.com>\r\nTo: Brett Tate <brett@broadsoft.com>; \"sip-implementors@lists.cs.columbia.edu\" <sip-implementors@lists.cs.columbia.edu>\r\nSent: Thursday, February 19, 2009 10:56:31 AM\r\nSubject: Re: [Sip-implementors] Sending 422\r\n\r\nThanks Brett,\r\n\r\n      So I think same should be added for UAS\r\n\r\n<Snip from RFC section 8.1>\r\n\r\n  If the request doesn't indicate support for the session timer but\r\n \r\ncontains a session interval that is too small, the proxy cannot\r\n  usefully\r\nreject the request, as this would result in a call failure.\r\n  Rather, the\r\nproxy SHOULD insert a Min-SE header field containing its\r\n  minimum\r\ninterval.  If a Min-SE header field is already present, the\r\n  proxy SHOULD\r\nincrease (but MUST NOT decrease) the value to its\r\n  minimum interval.  The\r\nproxy MUST then increase the Session-Expires\r\n  header field value to be equal to the value in the\r\nMin-SE header\r\n  field, as described above.\r\n</Snip from RFC>\r\n\r\n\r\nRegards\r\nS.Radha krishna\r\n\r\n\r\n\r\n\r\n________________________________\r\nFrom: Brett Tate <brett@broadsoft.com>\r\nTo: Radha krishna <krishna_srk2003@yahoo.com>; \"sip-implementors@lists.cs.columbia.edu\" <sip-implementors@lists.cs.columbia.edu>\r\nSent: Wednesday, February 18, 2009 6:42:31 PM\r\nSubject: RE: [Sip-implementors] Sending 422\r\n\r\nIt looks like Section 9 may have forgotten to indicate the behavior when UAC timer support not indicated.  Section 8.1 allows a proxy to increase the Session-Expires; I see no reason why the same cannot be done by the UAS.\r\n\r\n> -----Original Message-----\r\n> From: sip-implementors-bounces@lists.cs.columbia.edu [mailto:sip-\r\n> implementors-bounces@lists.cs.columbia.edu] On Behalf Of Radha krishna\r\n> Sent: Tuesday, February 17, 2009 9:48 PM\r\n> To: sip-implementors@lists.cs.columbia.edu\r\n> Subject: [Sip-implementors] Sending 422\r\n>\r\n> Hi\r\n>\r\n>          Consider the following topology\r\n>              UA1 ----- Call-stateful-proxy ------ UA2\r\n>\r\n>          UA1 does not support session timer, Make a call to UA2. Call-\r\n> stateful-proxy adds Session-Expires:100 header and forwards to UA2. UA2\r\n> minimum session expires is 900. But in this case INVITE will not contain\r\n> \"support: timer\". According section 9, UAS can reject with 422 only if\r\n> there is a timer tag in supported header\r\n>\r\n> <Snip from RFC>\r\n>\r\n>    If an incoming request contains a Supported header field with a value\r\n>    'timer' and a Session Expires header field, the UAS MAY reject the\r\n>    INVITE request with a 422 (Session Interval Too Small) response if\r\n>    the session interval in the Session-Expires header field is smaller\r\n>    than the minimum interval defined by the UAS' local policy.  When\r\n>    sending the 422 response, the UAS MUST include a Min-SE header field\r\n>    with the value of its minimum interval.  This minimum interval MUST\r\n>    NOT be lower than 90 seconds.\r\n> </Snip from RFC>\r\n>\r\n>        Also UAS cannot increase the session expires duration\r\n> <Snip from RFC>\r\n> The UAS MUST\r\n>    NOT increase the value of the Session-Expires header field.\r\n> </Snip from RFC>\r\n>\r\n> What should be the behavior of UAS here?\r\n>    1) accept the call with 100 seconds?\r\n>    2) Increase the duration to 900 seconds while sending 200 Ok?\r\n> Note: Session timer should not be turned-off\r\n>\r\n> Regards\r\n> S.Radha krishna\r\n>\r\n>\r\n>\r\n>\r\n> _______________________________________________\r\n> Sip-implementors mailing list\r\n> Sip-implementors@lists.cs.columbia.edu\r\n> https://lists.cs.columbia.edu/cucslists/listinfo/sip-implementors\r\n\r\n\r\n\r\n     \r\n_______________________________________________\r\nSip-implementors mailing list\r\nSip-implementors@lists.cs.columbia.edu\r\nhttps://lists.cs.columbia.edu/cucslists/listinfo/sip-implementors",
    "submit_date": "2009-02-19",
    "submitter_name": "Radha krishna Saragadam",
    "verifier_id": "118",
    "verifier_name": "Robert Sparks",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3614",
    "doc-id": "RFC4028",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "13",
    "orig_text": "   Record-Route: sips:p1.atlanta.example.com;lr\r\n   Route: sips:p1.atlanta.example.com;lr",
    "correct_text": "   Record-Route: <sips:p1.atlanta.example.com;lr>\r\n   Route: <sips:p1.atlanta.example.com;lr>",
    "notes": "In the examples, all the Record-Route and Route headers are wrong.\r\n\r\nThey are:\r\n   Record-Route: sips:p1.atlanta.example.com;lr\r\n   Route: sips:p1.atlanta.example.com;lr\r\n\r\nBut according with the section \"25.1 Basic Rules\" of RFC3261 those headers are defined as:\r\n\r\nname-addr      =  [ display-name ] LAQUOT addr-spec RAQUOT\r\nRecord-Route  =  \"Record-Route\" HCOLON rec-route *(COMMA rec-route)\r\nrec-route     =  name-addr *( SEMI rr-param )\r\nrr-param      =  generic-param\r\nRoute        =  \"Route\" HCOLON route-param *(COMMA route-param)\r\nroute-param  =  name-addr *( SEMI rr-param )\r\n\r\nSo the headers should be:\r\n   Record-Route: <sips:p1.atlanta.example.com;lr>\r\n   Route: <sips:p1.atlanta.example.com;lr>",
    "submit_date": "2013-05-06",
    "submitter_name": "José María González Calabozo",
    "verifier_id": "123",
    "verifier_name": "Gonzalo Camarillo",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4056",
    "doc-id": "RFC4028",
    "errata_status_code": "Reported",
    "errata_type_code": "Editorial",
    "section": "8",
    "orig_text": "8.  Proxy Behavior\r\n\r\n   Session timers are mostly of interest to call stateful proxy servers\r\n   (that is, to servers that maintain the state of calls and dialogs\r\n   established through them).  However, a stateful proxy server (that\r\n   is, a server which is aware of transaction state but does not retain\r\n   call or dialog state) MAY also follow the rules described here.\r\n   Stateless proxies MUST NOT attempt to request session timers.\r\n   Proxies that ask for session timers SHOULD record-route, as they\r\n   won't receive refreshes if they don't.",
    "correct_text": "   Session timers are mostly of interest to call stateful proxy servers\r\n   (that is, to servers that maintain the state of calls and dialogs\r\n   established through them).  However, a stateless proxy server (that\r\n   is, a server which is aware of transaction state but does not retain\r\n   call or dialog state) MAY also follow the rules described here.\r\n   Stateless proxies MUST NOT attempt to request session timers.\r\n   Proxies that ask for session timers SHOULD record-route, as they\r\n   won't receive refreshes if they don't.",
    "notes": "After the \"However\", it should be a stateless proxy server.",
    "submit_date": "2014-07-17",
    "submitter_name": "Lucas Wang",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "4744",
    "doc-id": "RFC4028",
    "errata_status_code": "Reported",
    "errata_type_code": "Technical",
    "section": "3",
    "orig_text": "   A UAC starts by sending an INVITE.  This includes a Supported header\r\n   field with the option tag 'timer', indicating support for this\r\n   extension.\r\n",
    "correct_text": "   A UAC starts by sending an INVITE.  This includes a Supported header\r\n   field with the option tag 'timer', indicating support for this\r\n   extension.If UAC or UAS knows one negotiation of session timer is \r\n   ongoing, it SHALL not start a new one.\r\n",
    "notes": "Add one more sentence here \"If UAC knows one negotiation of session timer is ongoing, it SHALL  not start a new one.\"\r\nActually in the scenarios of session set-up or session modification, it is easy to see the message exchange of UPDATE and (re-)INVITE, according to this RFC, both of them are allowed for the negotiation of session timer, the decision shall be taken on their own 200 OK. Normally the negotiation of session time of (re-)INVITE is started at first and the UPDATE's will be taken place, from UAS perspective, it needs to treat two negotiations of session timer in-parallel, since there is no kind of mechanism to protect the parameters carried in (re-)INVITE and UPDATE being inconsistent, it brings a problem on UAS that the result of two negotiations might be different specially for the parameter of refresher and also the inconsistency will cause UAS to meet a conflict while it is deciding the parameters especially for refresher on 200 OK of (re-)INVITE. In order to avoid this problem, it is better to disallow a net negotiation of session timer until the ongoing one is finished.",
    "submit_date": "2016-07-19",
    "submitter_name": "Chao Wang",
    "verifier_id": "99",
    "verifier_name": null,
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "632",
    "doc-id": "RFC4028",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "9",
    "orig_text": "If the incoming request contains a Supported header field with a\r\nvalue 'timer' but does not contain a Session-Expires header, it means\r\nthat the UAS is indicating support for timers but is not requesting\r\none.",
    "correct_text": "If the incoming request contains a Supported header field with a\r\nvalue 'timer' but does not contain a Session-Expires header, it means\r\nthat the UAC is indicating support for timers but is not requesting\r\none.",
    "notes": "I believe that in the first sentence, the reference to \"...the UAS is\r\nindicating support....\" should read \"... the UAC is indicating\r\nsupport...\"\r\n",
    "submit_date": "2007-06-25",
    "submitter_name": "Ervin Wittner",
    "verifier_id": "107",
    "verifier_name": "Cullen Jennings",
    "update_date": "2019-09-10 09:09:03"
  }
]
