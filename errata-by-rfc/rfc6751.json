[
  {
    "errata_id": "3384",
    "doc-id": "RFC6751",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "6.5.3",
    "orig_text": "CR-2 IPv6/IPv4 PACKET FROM A HOST OF THE SAME SITE\r\n \r\n    <figure omitted>\r\n\r\nIf ALL the following conditions are satisfied (i.e., the packet comes\r\nfrom a 6a44 client of the same site), the 6a44 client MUST\r\ndecapsulate the inner packet and treat it as a received IPv6 packet:\r\n(1) the IPv4 packet contains a complete UDP datagram (protocol = 17,\r\noffset = 0, more-fragment bit = 0); (2) both ports of the UDP\r\ndatagram are the 6a44 port, and the UDP payload is an IPv6 packet\r\n(UDP length of at least 40 octets, version = 6); (3) the IPv6 source\r\naddress is one of the same site (the first 80 bits match those of the\r\n6a44-client IPv6 address; (4) its last 32 bits are equal to the IPv4\r\nsource address; (5) the IPv6 destination address is the 6a44-client\r\nIPv6 address.\r\n",
    "correct_text": "CR-2 IPv6/IPv4 PACKET FROM A HOST OF THE SAME SITE\r\n \r\n    <figure omitted>\r\n\r\nIf ALL the following conditions are satisfied (i.e., the packet comes\r\nfrom a 6a44 client of the same site), the 6a44 client MUST\r\ndecapsulate the inner packet and treat it as a received IPv6 packet:\r\n(1) the IPv4 packet contains a complete IPv6 packet (protocol = 41,\r\noffset = 0, more-fragment bit = 0); (2) the IPv6 source\r\naddress is one of the same site (the first 80 bits match those of the\r\n6a44-client IPv6 address); (3) its last 32 bits are equal to the IPv4\r\nsource address and the IPv4 source address starts with the IPv4 link\r\nprefix; (4) the IPv6 destination address is the 6a44-client\r\nIPv6 address; (5) its last 32 bits are equal to the IPv4 destination\r\naddress.\r\n",
    "notes": "Bullet (2) in the original text has to be discarded because UDP is not used for IPv6 encapsulation in the case described by CR-2. The following bullet numbers got decremented by 1. Bullets (1) and (2)-(4) (after renumbering) were changed and bullet (5) was added taking information from CT-2 in section 6.5.2.\r\n\r\nThanks to Andreas for finding this.\r\nIn CR-2 of page 21 the text is inconsistent with the figure, which is right.\r\nThe proposed correction does eliminate this bug.\r\n",
    "submit_date": "2012-10-18",
    "submitter_name": "Andreas Cudok",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3385",
    "doc-id": "RFC6751",
    "errata_status_code": "Rejected",
    "errata_type_code": "Technical",
    "section": "6.6.2",
    "orig_text": "RR4-5 INVALID IPv6/UDP/IPv4 PACKET\r\n\r\n      For ANY other case, the 6a44 relay MUST discard the packet.",
    "correct_text": "RR4-5 INVALID IPv6/UDP/IPv4 PACKET: INCONSISTENT SOURCE ADDRESSES\r\n\r\n      If ALL the following conditions are satisfied, the 6a44 relay\r\n      MUST discard the packet and return to the source an\r\n      error-signaling bubble (i.e., with the \"Bubble ID\" field set\r\n      to 0) which conveys the up-to-date IPv6 prefix of the client:\r\n      (1) the IPv4 packet contains a complete UDP datagram (protocol\r\n      = 17, offset = 0, more-fragment bit = 0); (2) the UDP payload\r\n      is an IPv6 packet (length of at least 40 octets, version = 6);\r\n      (3) the IPv6 source address starts with the 6a44-network IPv6\r\n      prefix followed by a value (in the field that is composed of\r\n      bits 48-79) that is different from the UDP/IPv4 source address\r\n      of the received packet; (4) the IPv6 destination address is\r\n      not a Teredo address whose embedded IPv4 address is the\r\n      6a44-relay anycast address.\r\n\r\nRR4-6 INVALID IPv6/UDP/IPv4 PACKET: ANY OTHER INVALID PACKET\r\n\r\n      For ANY other case, the 6a44 relay MUST silently discard the\r\n      packet.",
    "notes": "The conditions when to send an error-signaling bubble must be exactly specified. This is done by the modified RR4-5 rule. The orginal rule has moved to RR4-6 and changed from \"discard\" to \"silently discard\", i.e. without returning an error-signaling bubble to the source.\r\n\r\nThe reference \"(i.e., not conforming to R44-2 condition (3) in Section 6.6.2)\" in section 6.3 (which is wrong anyway because rule R44-2 doesn't exist) should be replaced by \"(i.e., conformig to RR4-5 condition in Section 6.6.2)\"\n --VERIFIER NOTES-- \nReplaced bby Erratum 3388",
    "submit_date": "2012-10-18",
    "submitter_name": "Andreas Cudok",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3388",
    "doc-id": "RFC6751",
    "errata_status_code": "Verified",
    "errata_type_code": "Technical",
    "section": "6.6.2",
    "orig_text": "RR4-5 INVALID IPv6/UDP/IPv4 PACKET\r\n\r\n      For ANY other case, the 6a44 relay MUST discard the packet.",
    "correct_text": "RR4-5 INVALID IPv6/UDP/IPv4 PACKET\r\n\r\n      For ANY other case, the 6a44 relay MUST discard the packet,\r\n      and return to the UDP/IPv4 source an error-signalling bubble\r\n      formatted according to Section 6.3",
    "notes": "Erratum modified by ISE after discussion with RFC authors.\r\nThe above has the advantage of error signaling in all cases where packets\r\nfrom 6a44 clients cannot be forwarded, including if due to a change of \r\n6a44-network IPv6 prefix.\r\n\r\nThe original Errata submission said:\r\n\r\nRR4-5 INVALID IPv6/UDP/IPv4 PACKET: INCONSISTENT SOURCE ADDRESSES\r\n\r\n      If ALL the following conditions are satisfied, the 6a44 relay\r\n      MUST discard the packet and return to the source an\r\n      error-signaling bubble (i.e., with the \"Bubble ID\" field set\r\n      to 0) which conveys the up-to-date IPv6 prefix of the client:\r\n      (1) the IPv4 packet contains a complete UDP datagram (protocol\r\n      = 17, offset = 0, more-fragment bit = 0); (2) the UDP payload\r\n      is an IPv6 packet (length of at least 40 octets, version = 6);\r\n      (3) the IPv6 source address starts with the 6a44-network IPv6\r\n      prefix followed by a value (in the field that is composed of\r\n      bits 48-95) that is different from the UDP/IPv4 source address\r\n      of the received packet; (4) the IPv6 destination address is\r\n      not a Teredo address whose embedded IPv4 address is the\r\n      6a44-relay anycast address.\r\n\r\nRR4-6 INVALID IPv6/UDP/IPv4 PACKET: ANY OTHER INVALID PACKET\r\n\r\n      For ANY other case, the 6a44 relay MUST silently discard the\r\n      packet.\r\n\r\nThe conditions when to send an error-signaling bubble must be exactly specified. This is done by the modified RR4-5 rule. The orginal rule has moved to RR4-6 and changed from \"discard\" to \"silently discard\", i.e. without returning an error-signaling bubble to the source.\r\n\r\nThe reference \"(i.e., not conforming to R44-2 condition (3) in Section 6.6.2)\" in section 6.3 (which is wrong anyway because rule R44-2 doesn't exist) should be replaced by \"(i.e., conformig to RR4-5 condition in Section 6.6.2)\" \r\n\r\nThis Errata replaces Errata ID 3385 with the wrong phrase \"(in the field that is composed of bits 48-79)\" being replaced by the correct one \"(in the field that is composed of bits 48-95)\".",
    "submit_date": "2012-10-18",
    "submitter_name": "Andreas Cudok",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  },
  {
    "errata_id": "3390",
    "doc-id": "RFC6751",
    "errata_status_code": "Held for Document Update",
    "errata_type_code": "Technical",
    "section": "6.6.2",
    "orig_text": "RR4-2 IPv6 PACKET FROM A 6a44 CLIENT TO ANOTHER 6a44 CLIENT\r\n\r\n  (IPv4, N1, B, UDP(Z1, W, [IPv6, <C.N1.Z1...>, <C.N2.Z2...>, ...]))\r\n  <figure omitted>\r\n\r\nIf ALL the following conditions are satisfied, the 6a44 relay MUST\r\nreturn back via its downstream IPv4 interface an IPv6/ UDP/IPv4\r\npacket containing the same encapsulated packet, having its UDP/IPv4\r\ndestination set to the UDP/IPv4 address found in the 6a44 destination\r\naddress, and having its UDP/IPv4 source set to the 6a44-relay\r\nUDP/IPv4 address: (1) the IPv4 packet contains a complete UDP\r\ndatagram (protocol = 17, offset = 0, more-fragment bit = 0); (2) the\r\nUDP payload is an IPv6 packet (length of at least 40 octets, version\r\n= 6); (3) the IPv6 source address starts with the 6a44-network IPv6\r\nprefix followed by the UDP/IPv4 source address of the received\r\npacket; (4) the IPv6 destination address starts with the 6a44-network\r\nIPv6 prefix.\r\n",
    "correct_text": "RR4-2 IPv6 PACKET FROM A 6a44 CLIENT TO ANOTHER 6a44 CLIENT\r\n\r\n  (IPv4, N1, B, UDP(Z1, W, [IPv6, <C.N1.Z1...>, <C.N2 != B .Z2...>,\r\n   ...]))\r\n  <figure omitted>\r\n\r\nIf ALL the following conditions are satisfied, the 6a44 relay MUST\r\nreturn back via its downstream IPv4 interface an IPv6/UDP/IPv4\r\npacket containing the same encapsulated packet, having its UDP/IPv4\r\ndestination set to the UDP/IPv4 address found in the 6a44 destination\r\naddress, and having its UDP/IPv4 source set to the 6a44-relay\r\nUDP/IPv4 address: (1) the IPv4 packet contains a complete UDP\r\ndatagram (protocol = 17, offset = 0, more-fragment bit = 0); (2) the\r\nUDP payload is an IPv6 packet (length of at least 40 octets, version\r\n= 6); (3) the IPv6 source address starts with the 6a44-network IPv6\r\nprefix followed by the UDP/IPv4 source address of the received\r\npacket; (4) the IPv6 destination address starts with the 6a44-network\r\nIPv6 prefix and the embedded IPv4 address (bits 48-79) MUST be\r\ndifferent from the 6a44-relay anycast address.",
    "notes": "Requesting N2 != B prevents unwanted packets sent from the 6a44 relay to itself and makes the system more robust against DOS attacks.\r\n\r\nThis is really an enhancement, not an error, so it's Held (rather than Verified)",
    "submit_date": "2012-10-19",
    "submitter_name": "Andreas Cudok",
    "verifier_id": "126",
    "verifier_name": "Nevil Brownlee",
    "update_date": "2019-09-10 09:09:03"
  }
]
